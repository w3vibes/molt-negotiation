# ============================================
# MoltNegotiation Production Environment
# ============================================

# ---- API Runtime ----
PORT=3000
NODE_ENV=production
NEG_DATABASE_PATH=/app/data/molt-negotiation.db
NEG_ALLOW_PUBLIC_READ=false
NEG_AGENT_HEALTH_TIMEOUT_MS=5000

# ---- Secrets (REQUIRED for production) ----
NEG_SEALING_KEY=                          # AES-256 key for sealed inputs (recommended hex: openssl rand -hex 32)
NEG_ATTESTATION_SIGNER_PRIVATE_KEY=       # secp256k1 private key for attestation signing (0x + 64 hex chars)

# ---- Admin/Operator Keys ----
NEG_ADMIN_API_KEY=                        # Admin full-access key
NEG_OPERATOR_API_KEY=                     # Operator automation key
NEG_READONLY_API_KEY=                     # Read-only key for dashboards

# ---- Strict Policy (production defaults) ----
NEG_REQUIRE_ENDPOINT_MODE=true
NEG_REQUIRE_ENDPOINT_NEGOTIATION=true
NEG_REQUIRE_TURN_PROOF=true
NEG_TURN_PROOF_MAX_SKEW_MS=300000
NEG_REQUIRE_RUNTIME_ATTESTATION=true
NEG_RUNTIME_ATTESTATION_REMOTE_VERIFY=true
NEG_RUNTIME_ATTESTATION_VERIFIER_URL=https://verify-sepolia.eigencloud.xyz/verify
NEG_RUNTIME_ATTESTATION_MAX_AGE_MS=600000
NEG_ALLOW_ENGINE_FALLBACK=false
NEG_REQUIRE_EIGENCOMPUTE=true
NEG_REQUIRE_SANDBOX_PARITY=true
NEG_REQUIRE_EIGENCOMPUTE_ENVIRONMENT=true
NEG_REQUIRE_EIGENCOMPUTE_IMAGE_DIGEST=true
NEG_REQUIRE_EIGENCOMPUTE_SIGNER=true
NEG_REQUIRE_INDEPENDENT_AGENTS=true
NEG_REQUIRE_EIGEN_APP_BINDING=false
NEG_REQUIRE_SEALING_KEY=true
NEG_REQUIRE_ATTESTATION_SIGNER_KEY=true
NEG_ALLOW_INSECURE_DEV_KEYS=false
NEG_ALLOW_SIMPLE_MODE=false
NEG_REQUIRE_ATTESTATION=true
NEG_REQUIRE_PRIVACY_REDACTION=true
NEG_AGENT_DECISION_TIMEOUT_MS=8000
# In NODE_ENV=production, startup fails if strict launch requirements are not met.

# ---- Escrow Automation ----
NEG_AUTOMATION_ESCROW_ENABLED=true
NEG_AUTOMATION_ESCROW_INTERVAL_MS=15000

# ---- EigenCompute Deployment ----
ECLOUD_ENV=sepolia
ECLOUD_INSTANCE_TYPE=g1-standard-4t
ECLOUD_LOG_VISIBILITY=private
ECLOUD_RESOURCE_USAGE_MONITORING=enable

# ---- EigenCompute App IDs (filled after first deploy) ----
ECLOUD_APP_ID_API=
ECLOUD_APP_ID_WEB=

# ---- Web runtime/public env (synced into apps/web/.env.local by scripts/sync-web-env.sh) ----
NEXT_PUBLIC_API_URL=http://localhost:3000
NEXT_PUBLIC_READONLY_API_KEY=

# ---- Docker Image Refs (optional, for CI/CD) ----
ECLOUD_IMAGE_REF_API=username/moltnegotiation-api:latest
ECLOUD_IMAGE_REF_WEB=username/moltnegotiation-web:latest

# ---- Sepolia Chain (for contract deployment) ----
SEPOLIA_RPC_URL=                          # e.g., https://rpc.sepolia.org
PRIVATE_KEY=                              # Deployer private key (DO NOT commit!)

# ---- Escrow Contract (filled after deploy) ----
MOLT_NEGOTIATION_ESCROW_ADDRESS=

# ---- Signer for Payouts ----
PAYOUT_SIGNER_PRIVATE_KEY=               # Key for signing payout transactions
